<div [@routerTransition]>
    <app-page-header [heading]="'Forms'" [icon]="'fa-edit'"></app-page-header>
    

    <div class="row">
        
        <div class="col-lg-6">
            <fieldset class="form-group">
                <label>Name</label>
                <input class="form-control"  placeholder="Name" [(ngModel)]="PlaceModel.Name">
            </fieldset>

            <fieldset class="form-group">
                <label>Status</label>
                <select class="form-control" [(ngModel)]="PlaceModel.SelectedStatus">
                    <option *ngFor="let item of status" value="{{item.id}}">{{item.name}}</option>
                </select>
            </fieldset>
        </div>

        <div class="col-lg-5">

            <fieldset class="form-group">
                <h4>Representatives</h4>
             </fieldset>

             <fieldset class="form-group">
                 <button type="button"  class="btn btn-sm btn-danger" (click)="showRepList()" [disabled]="parsePlaceid() === ''">Add Representative</button>
             </fieldset>


             <!-- Representatives List Table -->
              <p-dataTable [value]="reps" [rows]="15" [immutable]="false"  [paginator]="true"  #dt>
                  <p-column field="fullName" header="Name" [sortable]="true">
                      <ng-template let-col let-rep="rowData" pTemplate="body">
                          <span [style.color]="rep[col.field]">{{rep[col.field]}}</span>
                      </ng-template>
                  </p-column>

                  <p-column styleClass="col-button">
                      <ng-template pTemplate="header">
                      </ng-template>
                        
                          <ng-template let-rep="rowData" pTemplate="body">
                          <div align="center">
                              <button type="button" class="btn btn-sm btn-danger" (click)="deleteRep(product)">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                            </button>
                          </div>
                      </ng-template>
                  </p-column>

              </p-dataTable>
        <!-- End Representatives List Table -->
        </div>
    </div>

    <!-- Add Representative Dialog -->

    <p-dialog header="Add Representative" [(visible)]="displayReplist" modal="modal" width="300"   positionTop="80"  [responsive]="true">
           
            <p-listbox [options]="users" [(ngModel)]="SelectedUsers" multiple="multiple" checkbox="checkbox" filter="filter">
                    <ng-template let-user pTemplate="body">
                            <span style="font-size:14px;">{{user.label}}</span>
                    </ng-template>
            </p-listbox>

            <p-footer>
                <button type="button" class="btn btn-sm btn-danger" (click)="saveAssignedRepsApi()">Save</button>
                <button type="button" (click)="hideSelectionListDialog()" class="btn btn-sm btn-danger">Cancel</button>
            </p-footer>

    </p-dialog>

      <!-- End Representative Dialog -->
     <p></p>
     <p></p>

    <div class="row">
        
        <div class="col-lg-6">
            <fieldset class="form-group">
                <h4>Address Info</h4>
             </fieldset>
            <fieldset class="form-group">
                <label>Address</label>
                <input class="form-control"  placeholder="Address" [(ngModel)]="PlaceModel.StreetAddress">
            </fieldset>

            <fieldset class="form-group">
                <label>City</label>
                <input class="form-control"  placeholder="City" [(ngModel)]="PlaceModel.City">
            </fieldset>

            <fieldset class="form-group">
                <label>State</label>
                <input class="form-control"  placeholder="State" [(ngModel)]="PlaceModel.State">
            </fieldset>

            <fieldset class="form-group">
                <label>Zip</label>
                <input class="form-control"  placeholder="Zip" [(ngModel)]="PlaceModel.Zip">
            </fieldset>

            <fieldset class="form-group">
                <label>Country</label>
                <input class="form-control"  placeholder="Country" [(ngModel)]="PlaceModel.Country">
            </fieldset>

            <fieldset class="form-group">
                <label>Country Code</label>
                <input class="form-control"  placeholder="Country Code" [(ngModel)]="PlaceModel.CountryCode">
            </fieldset>
        </div>

        <div class="col-lg-6">
            <fieldset class="form-group">
                <h4>Contact Info</h4>
             </fieldset>
            <fieldset class="form-group">
                <label>Contact Name</label>
                <input class="form-control"  placeholder="Contact Name" [(ngModel)]="PlaceModel.ContactName">
            </fieldset>

            <fieldset class="form-group">
                <label>Contact Title</label>
                <input class="form-control"  placeholder="Contact Title" [(ngModel)]="PlaceModel.ContactTitle">
            </fieldset>

            <fieldset class="form-group">
                <label>Phone</label>
                <input class="form-control"  placeholder="Phone" [(ngModel)]="PlaceModel.Phone">
            </fieldset>

            <fieldset class="form-group">
                <label>Cell Phone</label>
                <input class="form-control"  placeholder="Cell Phone" [(ngModel)]="PlaceModel.CellPhone">
            </fieldset>

            <fieldset class="form-group">
                <label>Email</label>
                <input class="form-control"  placeholder="Email" [(ngModel)]="PlaceModel.Email">
            </fieldset>

            <fieldset class="form-group">
                <label>Website</label>
                <input class="form-control"  placeholder="Website" [(ngModel)]="PlaceModel.Website">
            </fieldset>
        </div>

    </div>

    <button type="button"  class="btn btn-sm btn-danger" (click)="savePlaceApi()" [disabled]="PlaceModel.Name===''">Save Place</button>

    <button type="button"  class="btn btn-sm btn-danger" (click)="cancel()">Cancel</button>


</div>
